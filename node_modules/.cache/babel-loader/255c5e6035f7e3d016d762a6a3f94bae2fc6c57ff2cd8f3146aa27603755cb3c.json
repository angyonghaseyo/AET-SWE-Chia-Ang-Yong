{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Route,Routes,useParams,useLocation}from'react-router-dom';import GameList from'./components/GameList';import GameSession from'./components/GameSession';import TicTacToeBoard from'./components/TicTacToeBoard';import WaitingRoom from'./components/WaitingRoom';import api from'./services/api';import'./App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[gameSessions,setGameSessions]=useState([]);const[currentSession,setCurrentSession]=useState(null);const[userName,setUserName]=useState('');const location=useLocation();useEffect(()=>{const fetchGameSessions=async()=>{try{const response=await api.getSessions();setGameSessions(response);}catch(error){console.error(\"Failed to fetch game sessions:\",error);}};fetchGameSessions();let name=localStorage.getItem('userName');if(!name){name=prompt('Please enter your name:','');localStorage.setItem('userName',name);}setUserName(name);},[]);const createGameSession=async()=>{try{const newSession=await api.createSession();setGameSessions([...gameSessions,newSession]);}catch(error){console.error('Error creating session:',error);}};const selectGameSession=sessionId=>{const session=gameSessions.find(session=>session.id===sessionId);setCurrentSession(session);};const speakWelcomeMessage=()=>{if(location.pathname==='/'){const message=\"Welcome \".concat(userName,\", to Tic Tac Toe for Everyone.\\n      Just three steps to play this game.\\n      Firstly, Click on Create Game Session and share with your friend the session I D.\\n      Secondly, Join the Game Session\\n      Lastly, Game Begins when two players join the room, take turns to put X and O.\\n      First to line up three WINS\");const speechSynthesisUtterance=new SpeechSynthesisUtterance(message);window.speechSynthesis.speak(speechSynthesisUtterance);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[userName&&/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",onMouseEnter:speakWelcomeMessage,onMouseLeave:()=>window.speechSynthesis.cancel(),children:[\"Welcome, \",userName,/*#__PURE__*/_jsx(\"h1\",{children:\"Tic Tac Toe for Everyone\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Just three steps to play this game: \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),\"1. Click on Create Game Session and share with your friend the session id. \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),\"2. Join the Game Session \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\"3. Game Begins when two players join the room, take turns to put 'X' and 'O'. \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\"First to line up three WINS\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"App-content\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(GameList,{gameSessions:gameSessions,onSelectSession:selectGameSession,onCreateSession:createGameSession})}),/*#__PURE__*/_jsx(Route,{path:\"/session/:sessionId\",element:/*#__PURE__*/_jsx(GameSession,{session:currentSession,onGameUpdate:createGameSession})}),/*#__PURE__*/_jsx(Route,{path:\"/play/:sessionId\",element:/*#__PURE__*/_jsx(TicTacToeBoardWrapper,{})}),/*#__PURE__*/_jsx(Route,{path:\"/session/:sessionId/waiting\",element:/*#__PURE__*/_jsx(WaitingRoomWrapper,{userName:userName})}),/*#__PURE__*/_jsx(Route,{path:\"/game/:sessionId\",element:/*#__PURE__*/_jsx(TicTacToeBoardWrapper,{})})]})})]});}// Wrapper for TicTacToeBoard\nfunction TicTacToeBoardWrapper(){const{sessionId}=useParams();return/*#__PURE__*/_jsx(TicTacToeBoard,{sessionId:sessionId});}// Wrapper for WaitingRoom\nfunction WaitingRoomWrapper(){const{sessionId}=useParams();const{userName}=useParams();return/*#__PURE__*/_jsx(WaitingRoom,{sessionId:sessionId,playerName:userName});}function AppWithRouter(){return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(App,{})});}export default AppWithRouter;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Route","Routes","useParams","useLocation","GameList","GameSession","TicTacToeBoard","WaitingRoom","api","jsx","_jsx","jsxs","_jsxs","App","gameSessions","setGameSessions","currentSession","setCurrentSession","userName","setUserName","location","fetchGameSessions","response","getSessions","error","console","name","localStorage","getItem","prompt","setItem","createGameSession","newSession","createSession","selectGameSession","sessionId","session","find","id","speakWelcomeMessage","pathname","message","concat","speechSynthesisUtterance","SpeechSynthesisUtterance","window","speechSynthesis","speak","className","children","onMouseEnter","onMouseLeave","cancel","path","element","onSelectSession","onCreateSession","onGameUpdate","TicTacToeBoardWrapper","WaitingRoomWrapper","playerName","AppWithRouter"],"sources":["/Users/chiaangyong/Desktop/Project/aet-swe-chiaangyong/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Routes, useParams, useLocation } from 'react-router-dom';\nimport GameList from './components/GameList';\nimport GameSession from './components/GameSession';\nimport TicTacToeBoard from './components/TicTacToeBoard';\nimport WaitingRoom from './components/WaitingRoom';\nimport api from './services/api';\nimport './App.css';\n\nfunction App() {\n  const [gameSessions, setGameSessions] = useState([]);\n  const [currentSession, setCurrentSession] = useState(null);\n  const [userName, setUserName] = useState('');\n  const location = useLocation();\n\n  useEffect(() => {\n    const fetchGameSessions = async () => {\n      try {\n        const response = await api.getSessions();\n        setGameSessions(response);\n      } catch (error) {\n        console.error(\"Failed to fetch game sessions:\", error);\n      }\n    };\n\n    fetchGameSessions();\n\n    let name = localStorage.getItem('userName');\n    if (!name) {\n      name = prompt('Please enter your name:', '');\n      localStorage.setItem('userName', name);\n    }\n    setUserName(name);\n  }, []);\n\n  const createGameSession = async () => {\n    try {\n      const newSession = await api.createSession();\n      setGameSessions([...gameSessions, newSession]);\n    } catch (error) {\n      console.error('Error creating session:', error);\n    }\n  };\n\n  const selectGameSession = (sessionId) => {\n    const session = gameSessions.find(session => session.id === sessionId);\n    setCurrentSession(session);\n  };\n\n  const speakWelcomeMessage = () => {\n    if (location.pathname === '/') {\n      const message = `Welcome ${userName}, to Tic Tac Toe for Everyone.\n      Just three steps to play this game.\n      Firstly, Click on Create Game Session and share with your friend the session I D.\n      Secondly, Join the Game Session\n      Lastly, Game Begins when two players join the room, take turns to put X and O.\n      First to line up three WINS`;\n      const speechSynthesisUtterance = new SpeechSynthesisUtterance(message);\n      window.speechSynthesis.speak(speechSynthesisUtterance);\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      {userName && (\n        <header className=\"App-header\" \n                onMouseEnter={speakWelcomeMessage} \n                onMouseLeave={() => window.speechSynthesis.cancel()}>\n          Welcome, {userName}\n          \n          <h1>Tic Tac Toe for Everyone</h1>\n          <br />\n          <p >\n          Just three steps to play this game: <br /><br /><br />\n          1. Click on Create Game Session and share with your friend the session id. <br /><br />\n          2. Join the Game Session <br /> <br /> \n          3. Game Begins when two players join the room, take turns to put 'X' and 'O'. <br /> <br /> \n          First to line up three WINS</p>\n        </header>\n      )}\n      <div className=\"App-content\">\n        <Routes>\n          <Route \n            path=\"/\" \n            element={<GameList \n                        gameSessions={gameSessions} \n                        onSelectSession={selectGameSession} \n                        onCreateSession={createGameSession} />} \n          />\n          <Route \n            path=\"/session/:sessionId\" \n            element={<GameSession \n                        session={currentSession} \n                        onGameUpdate={createGameSession} />} \n          />\n          <Route \n            path=\"/play/:sessionId\" \n            element={<TicTacToeBoardWrapper />} \n          />\n          <Route \n            path=\"/session/:sessionId/waiting\" \n            element={<WaitingRoomWrapper userName={userName} />}\n          />\n          <Route \n            path=\"/game/:sessionId\" \n            element={<TicTacToeBoardWrapper />} \n          />\n        </Routes>\n      </div>\n    </div>\n  );\n}\n\n// Wrapper for TicTacToeBoard\nfunction TicTacToeBoardWrapper() {\n  const { sessionId } = useParams();\n  return <TicTacToeBoard sessionId={sessionId} />;\n}\n\n// Wrapper for WaitingRoom\nfunction WaitingRoomWrapper() {\n  const { sessionId } = useParams();\n  const { userName } = useParams();\n  return <WaitingRoom sessionId={sessionId} playerName={userName} />;\n}\n\nfunction AppWithRouter() {\n  return (\n    <Router>\n      <App />\n    </Router>\n  );\n}\n\nexport default AppWithRouter;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,aAAa,GAAI,CAAAC,MAAM,CAAEC,KAAK,CAAEC,MAAM,CAAEC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CACjG,MAAO,CAAAC,QAAQ,KAAM,uBAAuB,CAC5C,MAAO,CAAAC,WAAW,KAAM,0BAA0B,CAClD,MAAO,CAAAC,cAAc,KAAM,6BAA6B,CACxD,MAAO,CAAAC,WAAW,KAAM,0BAA0B,CAClD,MAAO,CAAAC,GAAG,KAAM,gBAAgB,CAChC,MAAO,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEnB,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGnB,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAACoB,cAAc,CAAEC,iBAAiB,CAAC,CAAGrB,QAAQ,CAAC,IAAI,CAAC,CAC1D,KAAM,CAACsB,QAAQ,CAAEC,WAAW,CAAC,CAAGvB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAAAwB,QAAQ,CAAGjB,WAAW,CAAC,CAAC,CAE9BN,SAAS,CAAC,IAAM,CACd,KAAM,CAAAwB,iBAAiB,CAAG,KAAAA,CAAA,GAAY,CACpC,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAd,GAAG,CAACe,WAAW,CAAC,CAAC,CACxCR,eAAe,CAACO,QAAQ,CAAC,CAC3B,CAAE,MAAOE,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,gCAAgC,CAAEA,KAAK,CAAC,CACxD,CACF,CAAC,CAEDH,iBAAiB,CAAC,CAAC,CAEnB,GAAI,CAAAK,IAAI,CAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAC3C,GAAI,CAACF,IAAI,CAAE,CACTA,IAAI,CAAGG,MAAM,CAAC,yBAAyB,CAAE,EAAE,CAAC,CAC5CF,YAAY,CAACG,OAAO,CAAC,UAAU,CAAEJ,IAAI,CAAC,CACxC,CACAP,WAAW,CAACO,IAAI,CAAC,CACnB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAK,iBAAiB,CAAG,KAAAA,CAAA,GAAY,CACpC,GAAI,CACF,KAAM,CAAAC,UAAU,CAAG,KAAM,CAAAxB,GAAG,CAACyB,aAAa,CAAC,CAAC,CAC5ClB,eAAe,CAAC,CAAC,GAAGD,YAAY,CAAEkB,UAAU,CAAC,CAAC,CAChD,CAAE,MAAOR,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CACjD,CACF,CAAC,CAED,KAAM,CAAAU,iBAAiB,CAAIC,SAAS,EAAK,CACvC,KAAM,CAAAC,OAAO,CAAGtB,YAAY,CAACuB,IAAI,CAACD,OAAO,EAAIA,OAAO,CAACE,EAAE,GAAKH,SAAS,CAAC,CACtElB,iBAAiB,CAACmB,OAAO,CAAC,CAC5B,CAAC,CAED,KAAM,CAAAG,mBAAmB,CAAGA,CAAA,GAAM,CAChC,GAAInB,QAAQ,CAACoB,QAAQ,GAAK,GAAG,CAAE,CAC7B,KAAM,CAAAC,OAAO,YAAAC,MAAA,CAAcxB,QAAQ,sUAKP,CAC5B,KAAM,CAAAyB,wBAAwB,CAAG,GAAI,CAAAC,wBAAwB,CAACH,OAAO,CAAC,CACtEI,MAAM,CAACC,eAAe,CAACC,KAAK,CAACJ,wBAAwB,CAAC,CACxD,CACF,CAAC,CAED,mBACE/B,KAAA,QAAKoC,SAAS,CAAC,KAAK,CAAAC,QAAA,EACjB/B,QAAQ,eACPN,KAAA,WAAQoC,SAAS,CAAC,YAAY,CACtBE,YAAY,CAAEX,mBAAoB,CAClCY,YAAY,CAAEA,CAAA,GAAMN,MAAM,CAACC,eAAe,CAACM,MAAM,CAAC,CAAE,CAAAH,QAAA,EAAC,WAClD,CAAC/B,QAAQ,cAElBR,IAAA,OAAAuC,QAAA,CAAI,0BAAwB,CAAI,CAAC,cACjCvC,IAAA,QAAK,CAAC,cACNE,KAAA,MAAAqC,QAAA,EAAI,sCACgC,cAAAvC,IAAA,QAAK,CAAC,cAAAA,IAAA,QAAK,CAAC,cAAAA,IAAA,QAAK,CAAC,8EACqB,cAAAA,IAAA,QAAK,CAAC,cAAAA,IAAA,QAAK,CAAC,4BAC9D,cAAAA,IAAA,QAAK,CAAC,IAAC,cAAAA,IAAA,QAAK,CAAC,iFACwC,cAAAA,IAAA,QAAK,CAAC,IAAC,cAAAA,IAAA,QAAK,CAAC,8BAChE,EAAG,CAAC,EACzB,CACT,cACDA,IAAA,QAAKsC,SAAS,CAAC,aAAa,CAAAC,QAAA,cAC1BrC,KAAA,CAACX,MAAM,EAAAgD,QAAA,eACLvC,IAAA,CAACV,KAAK,EACJqD,IAAI,CAAC,GAAG,CACRC,OAAO,cAAE5C,IAAA,CAACN,QAAQ,EACNU,YAAY,CAAEA,YAAa,CAC3ByC,eAAe,CAAErB,iBAAkB,CACnCsB,eAAe,CAAEzB,iBAAkB,CAAE,CAAE,CACpD,CAAC,cACFrB,IAAA,CAACV,KAAK,EACJqD,IAAI,CAAC,qBAAqB,CAC1BC,OAAO,cAAE5C,IAAA,CAACL,WAAW,EACT+B,OAAO,CAAEpB,cAAe,CACxByC,YAAY,CAAE1B,iBAAkB,CAAE,CAAE,CACjD,CAAC,cACFrB,IAAA,CAACV,KAAK,EACJqD,IAAI,CAAC,kBAAkB,CACvBC,OAAO,cAAE5C,IAAA,CAACgD,qBAAqB,GAAE,CAAE,CACpC,CAAC,cACFhD,IAAA,CAACV,KAAK,EACJqD,IAAI,CAAC,6BAA6B,CAClCC,OAAO,cAAE5C,IAAA,CAACiD,kBAAkB,EAACzC,QAAQ,CAAEA,QAAS,CAAE,CAAE,CACrD,CAAC,cACFR,IAAA,CAACV,KAAK,EACJqD,IAAI,CAAC,kBAAkB,CACvBC,OAAO,cAAE5C,IAAA,CAACgD,qBAAqB,GAAE,CAAE,CACpC,CAAC,EACI,CAAC,CACN,CAAC,EACH,CAAC,CAEV,CAEA;AACA,QAAS,CAAAA,qBAAqBA,CAAA,CAAG,CAC/B,KAAM,CAAEvB,SAAU,CAAC,CAAGjC,SAAS,CAAC,CAAC,CACjC,mBAAOQ,IAAA,CAACJ,cAAc,EAAC6B,SAAS,CAAEA,SAAU,CAAE,CAAC,CACjD,CAEA;AACA,QAAS,CAAAwB,kBAAkBA,CAAA,CAAG,CAC5B,KAAM,CAAExB,SAAU,CAAC,CAAGjC,SAAS,CAAC,CAAC,CACjC,KAAM,CAAEgB,QAAS,CAAC,CAAGhB,SAAS,CAAC,CAAC,CAChC,mBAAOQ,IAAA,CAACH,WAAW,EAAC4B,SAAS,CAAEA,SAAU,CAACyB,UAAU,CAAE1C,QAAS,CAAE,CAAC,CACpE,CAEA,QAAS,CAAA2C,aAAaA,CAAA,CAAG,CACvB,mBACEnD,IAAA,CAACX,MAAM,EAAAkD,QAAA,cACLvC,IAAA,CAACG,GAAG,GAAE,CAAC,CACD,CAAC,CAEb,CAEA,cAAe,CAAAgD,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}